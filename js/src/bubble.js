window.tagcloud=function(e,t){function s(t){var i=this;i.config=s._getConfig(t),i.box=i.config.element,i.fontsize=i.config.fontsize,i.radius=i.config.radius,i.depth=2*i.radius,i.size=2*i.radius,i.mspeed=s._getMsSpeed(i.config.mspeed),i.ispeed=s._getIsSpeed(i.config.ispeed),i.items=i._getItems(),i.direction=i.config.direction,i.keep=i.config.keep,i.active=!1,i.lasta=1,i.lastb=1,i.mouseX0=i.ispeed*Math.sin(i.direction*Math.PI/180),i.mouseY0=-i.ispeed*Math.cos(i.direction*Math.PI/180),i.mouseX=i.mouseX0,i.mouseY=i.mouseY0,i.index=-1,s._on(i.box,"mouseover",function(){i.active=!0}),s._on(i.box,"mouseout",function(){i.active=!1}),s._on(i.keep?e:i.box,"mousemove",function(t){var s=e.event||t,o=i.box.getBoundingClientRect();i.mouseX=(s.clientX-(o.left+i.box.offsetWidth/2))/5,i.mouseY=(s.clientY-(o.top+i.box.offsetHeight/2))/5});for(var o=0,n=i.items.length;o<n;o++)i.items[o].element.index=o,i.items[o].element.onmouseover=function(){i.index=this.index},i.items[o].element.onmouseout=function(){i.index=-1};s.boxs.push(i.box),i.update(i),i.box.style.visibility="visible",i.box.style.position="relative",i.box.style.minHeight=0*i.size+"px",i.box.style.minWidth=0*i.size+"px";for(o=0,n=i.items.length;o<n;o++)i.items[o].element.style.position="absolute",i.items[o].element.style.zIndex=o+1;i.up=setInterval(function(){i.update(i)},10)}return s.boxs=[],s._set=function(e){if(-1==s.boxs.indexOf(e))return!0},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,s=Number(arguments[1])||0;for((s=s<0?Math.ceil(s):Math.floor(s))<0&&(s+=t);s<t;s++)if(s in this&&this[s]===e)return s;return-1}),s._getConfig=function(e){var t,s={fontsize:16,radius:60,mspeed:"normal",ispeed:"normal",direction:135,keep:!0};if(t=e,"[object Object]"===Object.prototype.toString.call(t))for(var i in e)e.hasOwnProperty(i)&&(s[i]=e[i]);return s},s._getMsSpeed=function(e){return{slow:1.5,normal:3,fast:5}[e]||3},s._getIsSpeed=function(e){return{slow:10,normal:25,fast:50}[e]||25},s._getSc=function(e,t){var s=Math.PI/180;return[Math.sin(e*s),Math.cos(e*s),Math.sin(t*s),Math.cos(t*s)]},s._on=function(e,t,s,i){e.addEventListener?e.addEventListener(t,s,i):e.attachEvent?e.attachEvent("on"+t,s):e["on"+t]=s},s.prototype={constructor:s,update:function(){var e,t;if(this.active||this.keep||(this.mouseX=Math.abs(this.mouseX-this.mouseX0)<1?this.mouseX0:(this.mouseX+this.mouseX0)/2,this.mouseY=Math.abs(this.mouseY-this.mouseY0)<1?this.mouseY0:(this.mouseY+this.mouseY0)/2),e=-Math.min(Math.max(-this.mouseY,-this.size),this.size)/this.radius*this.mspeed,t=Math.min(Math.max(-this.mouseX,-this.size),this.size)/this.radius*this.mspeed,!(Math.abs(e)<=.01&&Math.abs(t)<=.01)){this.lasta=e,this.lastb=t;for(var i=s._getSc(e,t),o=0,n=this.items.length;o<n;o++){var h=this.items[o].x,a=this.items[o].y*i[1]+this.items[o].z*-i[0],l=this.items[o].y*i[0]+this.items[o].z*i[1],m=h*i[3]+l*i[2],r=a,u=l*i[3]-h*i[2];if(this.index==o)this.items[o].scale=1,this.items[o].fontsize=16,this.items[o].alpha=1,this.items[o].element.style.zIndex=99;else{var f=this.depth/(this.depth+u);this.items[o].x=m,this.items[o].y=r,this.items[o].z=u,this.items[o].scale=f,this.items[o].fontsize=Math.ceil(2*f)+this.fontsize-6,this.items[o].alpha=1.5*f-.5,this.items[o].element.style.zIndex=Math.ceil(10*f-5)}this.items[o].element.style.left=this.items[o].x+(this.box.offsetWidth-this.items[o].offsetWidth)/2+"px",this.items[o].element.style.top=this.items[o].y+(this.box.offsetHeight-this.items[o].offsetHeight)/2+"px",this.items[o].element.style.filter="alpha(opacity="+100*this.items[o].alpha+")",this.items[o].element.style.opacity=this.items[o].alpha}}},_getItems:function(){for(var e,t=[],s=this.box.children,i=s.length,o=0;o<i;o++)(e={}).angle={},e.angle.phi=Math.acos((2*o+1)/i-1),e.angle.theta=Math.sqrt((i+1)*Math.PI)*e.angle.phi,e.element=s[o],e.offsetWidth=e.element.offsetWidth,e.offsetHeight=e.element.offsetHeight,e.x=1.5*this.radius*Math.cos(e.angle.theta)*Math.sin(e.angle.phi),e.y=1.5*this.radius*Math.sin(e.angle.theta)*Math.sin(e.angle.phi),e.z=1.5*this.radius*Math.cos(e.angle.phi),e.element.style.left=e.x+(this.box.offsetWidth-e.offsetWidth)/2+"px",e.element.style.top=e.y+(this.box.offsetHeight-e.offsetHeight)/2+"px",t.push(e);return t}},t.querySelectorAll||(t.querySelectorAll=function(e){var s,i=t.createElement("style"),o=[];for(t.documentElement.firstChild.appendChild(i),t._qsa=[],i.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),i.parentNode.removeChild(i);t._qsa.length;)(s=t._qsa.shift()).style.removeAttribute("x-qsa"),o.push(s);return t._qsa=null,o}),function(e){for(var i=(e=e||{}).selector||".tagcloud",o=t.querySelectorAll(i),n=[],h=0,a=o.length;h<a;h++)e.element=o[h],s._set(e.element)&&n.push(new s(e));return n}}(window,document);